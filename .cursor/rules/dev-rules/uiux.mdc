## 1. 基本方針

* **シンプル性**：応募までのタップ数を最小化（目標：3タップ以内でグループ応募の意思表示ができる）
* **一貫性**：shadcn/ui を基盤にコンポーネントとマイクロコピーを統一
* **流入チャネル別最適化**：LINE/Discord/直接流入それぞれで“最短導線”を用意
* **低摩擦のグループ応募**：友達の同意を簡潔に取り、まとめて応募できるUI
* **検証しやすさ**：イベント（share_clicked, group_created, application_submitted など）を明確に計測可能に実装

---

## 2. キーユーザーフロー（最小実装：3ステップ）

### 目標フロー（モバイル優先）

1. **求人一覧 / ジョブカード**（Landing）

   * カードに「友達と応募する」「今すぐ応募」ボタンを配置
2. **グループ作成 / 選択モーダル**

   * 既存グループを選ぶ or 新規作成（ワンタップで招待リンク生成）
   * 招待はLINE/Discordのどちらでも送れる
3. **応募確認 & 送信**

   * 友達の承認状況がリアルタイムに見える（未承認 / 承認済み）
   * 全員承認で応募を送信、送信後に自動でシェア通知

### UI 要点

* モーダル／Drawer を使い画面遷移を最小化
* 招待は「リンクコピー」＋「LINEで送る」ボタンを一画面に配置
* 招待はLINEのshare URL（LIFF）とDiscordのWebhook/Inviteリンクの両方をサポート

---

## 3. 画面一覧（最小 MVP）

1. **ランディング / 求人一覧 (/jobs)**

   * 検索バー（後で A/B）、カテゴリフィルタ
   * JobCard（タイトル, 場所, 時給, シフト, タグ, CTA）
2. **求人詳細 (/jobs/[id])**

   * 詳細情報, 応募ボタン, 友達と応募ボタン, シェアボタン
3. **グループ画面 (/groups)**

   * 自分のグループ一覧, 新規作成, 招待リンク管理
4. **応募履歴 (/applications)**

   * 応募状況（承認待ち / 採用 / 辞退）
5. **管理者ダッシュボード（後段、管理者用）**

   * 求人作成, 応募一覧, 受け入れ管理
6. **ミニウィジェット（埋め込み用）**

   * 他サーバー向けに貼れる求人カード埋め込み用スニペット

---

## 4. 代表コンポーネント設計

* `JobCard` (props: job, onApply, onGroupApply, onShare)
* `GroupModal` (create/select group, invite actions)
* `InviteChip` (LINE/Discord/Copy) with status
* `ApplicationStatusList` (group別に表示)
* `ShareButton` (QR, LINE, Discord)
* `OnboardingBanner`（初回ユーザー向け）

---

## 5. マイクロコピー（例）

* CTA："友だちと応募する"（Primary） / "今すぐ応募"（Secondary）
* 招待文（LINE用テンプレ）:

  * "一緒にバイト行かない？この求人いい感じ。みんなで応募してみよう！ → {job_link}"
* 招待ステータス："承認待ち" / "承認済み" / "辞退"

---

## 6. 招待・承認 UX（重要）

* **招待の2パターン**

  1. **即時承認型**：招待リンクを受け取った友達が1タップで承認（推奨）
  2. **確認型**：受け取ったメッセージで詳細確認後承認
* **リマインダー**：未承認のメンバーに自動リマインド（通知）を送る（中優先）
* **承認のなりすまし防止**：承認はログイン済みユーザーのみ許可（最終的にSupabase認証に依存）

---

## 7. LINE / Discord からの流入に合わせた UI 調整

* **LINE経由**: モバイルSafari/ChromeでのLIFF起動を想定。最初の操作は「グループ作成」ボタンを大きく。
* **Discord経由**: 案件ポストに短縮URLを用意。開いたときに "この求人への応募は Jobsta で簡単にできます" のバナーを表示。
* **埋め込みカード**: Discordの案件チャンネルで `JobCard` の抜粋を貼れる *embed* スニペットを用意。

---

## 8. レスポンシブ / アクセシビリティ

* モバイルファースト設計
* ボタンはタップ領域 44px 以上
* コントラスト比WCAG AA 準拠
* キーボード操作 / スクリーンリーダー対応を確認（Radix/shadcn のアクセシビリティを活用）

---

## 9. 計測・KPI（イベント設計）

* 重要イベント

  * `view_job` (job_id)
  * `share_clicked` (job_id, channel)
  * `group_created` (group_id)
  * `invite_sent` (group_id, to_channel)
  * `member_approved` (group_id, user_id)
  * `application_submitted` (application_id)
* KPI

  * ランディング→応募までの平均タップ数
  * 招待経由の応募率
  * マルチメンバー応募の成功率

---

## 10. A/B テスト案（最小2案）

* **案 A（シンプル）**: JobCard に "友達と応募する" を大ボタン表示
* **案 B（分割）**: JobCard に "興味あり" と "友達と応募" を分けて表示
* 比較指標：クリック率 → 実際の応募率

---

## 11. 管理者（Discord運営者）向け UX

* **求人登録フォーム（簡易）**: タイトル・日時・人数・報酬・場所・募集文・募集チャンネル
* **Embed 用スニペット**: Discord に貼るだけでカスタム JobCard が生成される短縮URL
* **管理画面**: 応募一覧フィルタ（group, job, status）

---

## 12. 実装優先度マップ（MVP → Next）

* **MVP（1週間〜）**

  * JobCard, 求人一覧, 求人詳細
  * GroupModal（作成・招待リンク）
  * 応募送信（local→Supabase 切替可能）
  * LINE/Discord へ Share
  * 計測イベント実装

* **次段階**

  * 認証（Supabase）統合
  * 招待承認フローの自動化（通知・リマインド）
  * 管理者ダッシュボード

---

## 13. 開発時のデザインアセットとサンプル文言

* カラーパレット（shadcn のデフォルト）
* ボタンテキスト（Primary / Secondary / Ghost の命名規則）
* 招待テンプレート文（LINE/Discord用）

---

## 14. 次のアクション（ToDo）

1. この UI 設計に基づいて Storybook の Story を 5 つ作成する（JobCard, GroupModal, InviteChip, ApplicationStatusList, ShareButton）
2. `lib/events` に計測イベントスキーマを追加する
3. 初期ユーザーテスト（学内の学生 10 人程度）を実施して、タップ数・離脱率を計測
